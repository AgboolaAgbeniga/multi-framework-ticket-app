import{d as N,h as E,r as u,a as p,b as a,g as t,w as r,i as I,j as g,f as i,n as y,u as P,t as v,_ as T,k as U,l as q,o as f,m as h}from"./index-BlVryHhF.js";import{_ as B}from"./Card.vue_vue_type_script_setup_true_lang-C0KHv94V.js";import{_,a as b,C as V}from"./Label.vue_vue_type_script_setup_true_lang-G6Xlcpm0.js";const j={class:"min-h-screen flex flex-col"},D={class:"flex-1 bg-slate-50 py-12 px-4 sm:px-6 lg:px-8"},F={class:"max-w-[1440px] mx-auto"},L={class:"max-w-md mx-auto"},z={key:0,class:"flex items-center gap-1 mt-1 text-red-600 text-sm"},G={key:0,class:"flex items-center gap-1 mt-1 text-red-600 text-sm"},J={key:0,class:"flex items-center gap-1 mt-1 text-red-600 text-sm"},M={key:0,class:"flex items-center gap-1 mt-1 text-red-600 text-sm"},O={class:"text-center text-sm"},W=N({__name:"Signup",setup(R){const k=q(),C=E(),d=u(""),m=u(""),n=u(""),c=u(""),l=u({}),w=u(!1),x=s=>{l.value[s]&&(l.value[s]=void 0)},S=()=>{const s={};return d.value?d.value.length<2&&(s.name="Name must be at least 2 characters"):s.name="Name is required",m.value?/\S+@\S+\.\S+/.test(m.value)||(s.email="Email is invalid"):s.email="Email is required",n.value?n.value.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",c.value?n.value!==c.value&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",l.value=s,Object.keys(s).length===0},$=async()=>{if(!S()){h.error("Please fix the form errors");return}w.value=!0,await new Promise(e=>setTimeout(e,500));const s=await C.signup(m.value,n.value,d.value);w.value=!1,s.success?(h.success("Account created successfully! Please login."),setTimeout(()=>{k.push("/auth/login")},500)):(h.error(s.error||"Signup failed"),l.value={email:s.error||"Signup failed"})};return(s,e)=>{const A=U("router-link");return f(),p("div",j,[a("main",D,[a("div",F,[a("div",L,[e[14]||(e[14]=a("div",{class:"text-center mb-8"},[a("h1",{class:"mb-2"},"Create Account"),a("p",{class:"text-slate-600"}," Get started with TicketFlex today ")],-1)),t(B,{class:"p-6 sm:p-8 shadow-lg"},{default:r(()=>[a("form",{onSubmit:I($,["prevent"]),class:"space-y-6"},[a("div",null,[t(_,{for:"name"},{default:r(()=>[...e[8]||(e[8]=[i("Full Name",-1)])]),_:1}),t(b,{id:"name",type:"text",placeholder:"John Doe",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),class:y({"border-red-500":l.value.name}),onInput:e[1]||(e[1]=o=>x("name"))},null,8,["modelValue","class"]),l.value.name?(f(),p("div",z,[t(P(V),{class:"w-4 h-4"}),a("span",null,v(l.value.name),1)])):g("",!0)]),a("div",null,[t(_,{for:"email"},{default:r(()=>[...e[9]||(e[9]=[i("Email",-1)])]),_:1}),t(b,{id:"email",type:"email",placeholder:"you@example.com",modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=o=>m.value=o),class:y({"border-red-500":l.value.email}),onInput:e[3]||(e[3]=o=>x("email"))},null,8,["modelValue","class"]),l.value.email?(f(),p("div",G,[t(P(V),{class:"w-4 h-4"}),a("span",null,v(l.value.email),1)])):g("",!0)]),a("div",null,[t(_,{for:"password"},{default:r(()=>[...e[10]||(e[10]=[i("Password",-1)])]),_:1}),t(b,{id:"password",type:"password",placeholder:"••••••••",modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=o=>n.value=o),class:y({"border-red-500":l.value.password}),onInput:e[5]||(e[5]=o=>x("password"))},null,8,["modelValue","class"]),l.value.password?(f(),p("div",J,[t(P(V),{class:"w-4 h-4"}),a("span",null,v(l.value.password),1)])):g("",!0)]),a("div",null,[t(_,{for:"confirmPassword"},{default:r(()=>[...e[11]||(e[11]=[i("Confirm Password",-1)])]),_:1}),t(b,{id:"confirmPassword",type:"password",placeholder:"••••••••",modelValue:c.value,"onUpdate:modelValue":e[6]||(e[6]=o=>c.value=o),class:y({"border-red-500":l.value.confirmPassword}),onInput:e[7]||(e[7]=o=>x("confirmPassword"))},null,8,["modelValue","class"]),l.value.confirmPassword?(f(),p("div",M,[t(P(V),{class:"w-4 h-4"}),a("span",null,v(l.value.confirmPassword),1)])):g("",!0)]),t(T,{type:"submit",class:"w-full",disabled:w.value},{default:r(()=>[i(v(w.value?"Creating Account...":"Create Account"),1)]),_:1},8,["disabled"]),a("div",O,[e[13]||(e[13]=a("span",{class:"text-slate-600"},"Already have an account? ",-1)),t(A,{to:"/auth/login",class:"text-primary hover:underline"},{default:r(()=>[...e[12]||(e[12]=[i(" Login ",-1)])]),_:1})])],32)]),_:1})])])])])}}});export{W as default};
