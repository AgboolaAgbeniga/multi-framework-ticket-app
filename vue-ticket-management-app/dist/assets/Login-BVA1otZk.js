import{d as E,h as L,r as d,a as c,b as a,g as l,w as n,i as P,j as g,f as m,n as b,u as y,t as v,_ as B,k as N,l as T,o as f,m as x}from"./index-BuIeqHlX.js";import{_ as j}from"./Card.vue_vue_type_script_setup_true_lang-m95Kzmb-.js";import{_ as h,a as k,C as V}from"./Label.vue_vue_type_script_setup_true_lang-CetkOpSZ.js";const q={class:"min-h-screen flex flex-col"},A={class:"flex-1 bg-slate-50 py-12 px-4 sm:px-6 lg:px-8"},D={class:"max-w-[1440px] mx-auto"},I={class:"max-w-md mx-auto"},U={key:0,class:"flex items-center gap-1 mt-1 text-red-600 text-sm"},W={key:0,class:"flex items-center gap-1 mt-1 text-red-600 text-sm"},z={class:"text-center text-sm"},G=E({__name:"Login",setup(M){const S=T(),w=L(),o=d(""),r=d(""),t=d({}),u=d(!1),_=s=>{t.value[s]&&(t.value[s]=void 0)},C=()=>{const s={};return o.value?/\S+@\S+\.\S+/.test(o.value)||(s.email="Email is invalid"):s.email="Email is required",r.value?r.value.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",t.value=s,Object.keys(s).length===0},$=async()=>{var e;if(!C()){x.error("Please fix the form errors");return}u.value=!0,await new Promise(p=>setTimeout(p,500));const s=await w.login(o.value,r.value);u.value=!1,s.success?(x.success(`Welcome back, ${(e=w.user)==null?void 0:e.name}!`),setTimeout(()=>{S.push("/dashboard")},500)):(x.error(s.error||"Login failed"),t.value={email:s.error})};return(s,e)=>{const p=N("router-link");return f(),c("div",q,[a("main",A,[a("div",D,[a("div",I,[e[8]||(e[8]=a("div",{class:"text-center mb-8"},[a("h1",{class:"mb-2"},"Welcome Back"),a("p",{class:"text-slate-600"}," Login to manage your tickets ")],-1)),l(j,{class:"p-6 sm:p-8 shadow-lg"},{default:n(()=>[a("form",{onSubmit:P($,["prevent"]),class:"space-y-6"},[a("div",null,[l(h,{for:"email"},{default:n(()=>[...e[4]||(e[4]=[m("Email",-1)])]),_:1}),l(k,{id:"email",type:"email",placeholder:"you@example.com",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value=i),class:b({"border-red-500":t.value.email}),onInput:e[1]||(e[1]=i=>_("email"))},null,8,["modelValue","class"]),t.value.email?(f(),c("div",U,[l(y(V),{class:"w-4 h-4"}),a("span",null,v(t.value.email),1)])):g("",!0)]),a("div",null,[l(h,{for:"password"},{default:n(()=>[...e[5]||(e[5]=[m("Password",-1)])]),_:1}),l(k,{id:"password",type:"password",placeholder:"••••••••",modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=i=>r.value=i),class:b({"border-red-500":t.value.password}),onInput:e[3]||(e[3]=i=>_("password"))},null,8,["modelValue","class"]),t.value.password?(f(),c("div",W,[l(y(V),{class:"w-4 h-4"}),a("span",null,v(t.value.password),1)])):g("",!0)]),l(B,{type:"submit",class:"w-full",disabled:u.value},{default:n(()=>[m(v(u.value?"Logging in...":"Login"),1)]),_:1},8,["disabled"]),a("div",z,[e[7]||(e[7]=a("span",{class:"text-slate-600"},"Don't have an account? ",-1)),l(p,{to:"/auth/signup",class:"text-primary hover:underline"},{default:n(()=>[...e[6]||(e[6]=[m(" Sign up ",-1)])]),_:1})])],32)]),_:1})])])])])}}});export{G as default};
